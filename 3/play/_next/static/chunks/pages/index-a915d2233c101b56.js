(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5405],{46473:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return B},Play:function(){return U}});var r=n(3021),o=n(43626),a=n(94405),i=n(26544),u=n(22899),s=n(9008),l=n(58309),c=n(11720),p=n(89598),d=n(78294),v=n(81043),f=n(14266),g=n(66971),h=n(5522),m=n(45628),y=n(68615),S=n(40942),b=n(94381),w=n(54245),Z=n(38041),P=n(55072),E=n(82258),N=n(1568),I=n(58157),_=n(79305),R=n(36488),T=n(29061),x=n(46646),F=n(36978),D=n(11549),A=n(58502),L=n(70213),C=n(97997),k=function(){return(k=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},O=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{s(r.next(e))}catch(t){a(t)}}function u(e){try{s(r.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,u)}s((r=r.apply(e,t||[])).next())}))},Y=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(u){a=[6,u],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},B=!0,U=function(e){var t,n,B,U,G=e.appInfo,X=e.ngNcmHost,H=e.errorStatus,V=e.features,W=e.authUseThirdPartyFlow,j=e.prefix,M=e.authRedirectionUrl,Q=e.errorStatusCode,q=e.serviceStatus,J=e.countryCode,z=e.isAppPage,K=e.isQuancastPopupSupportByCountry,$=e.firebaseConfig,ee=e.thirdPartyAuthUrl,te=(0,T.Z)({appInfo:G,ngNcmHost:X,features:V,authUseThirdPartyFlow:W,prefix:j,authRedirectionUrl:M,serviceStatus:q,countryCode:J,isQuancastPopupSupportByCountry:K,pageType:"playPage",thirdPartyAuthUrl:ee,firebaseConfig:$||""}),ne=te.isNowGGURL,re=te.adsEnabled,oe=k({},d.ZP),ae=G.media,ie=G.packageName,ue=(G.appType,(ae||{}).desktop),se=(0,y.Z)(H?"".concat(Q||"404"," | now.gg"):""),le=se[0],ce=se[1],pe=(0,c.useRef)(),de=null===(n=null===(t=G.playFeFeatures)||void 0===t?void 0:t.tryAndDownload)||void 0===n?void 0:n.isEnabled,ve=(0,v.I0)(),fe=36e4,ge=(0,c.useRef)(null);return(0,c.useEffect)((function(){var e={};(0,p.L9)("PreloaderDisplayed",e);try{if((0,Z.EO)()){var t=(new Date).getTime();sessionStorage.setItem(b.oE,t.toString())}if(!sessionStorage.getItem(b.bA)){var n=sessionStorage.getItem(b.UZ);if(n){var r=Date.now()-parseInt(n,10);if(r>=fe)(0,D.Z)({event:"six_minutes"}),sessionStorage.setItem(b.bA,"true");else{var o=fe-r;ge.current=setTimeout((function(){(0,D.Z)({event:"six_minutes"}),sessionStorage.setItem(b.bA,"true")}),o)}}else{t=Date.now();sessionStorage.setItem(b.UZ,t.toString()),ge.current=setTimeout((function(){(0,D.Z)({event:"six_minutes"}),sessionStorage.setItem(b.bA,"true")}),fe)}}}catch(c){}q&&b.VI[q]&&(0,I.Z)(b.VI[q],"","NowggIfpSdkEvent"),"ropro"===(0,d.We)().utmCampaign.toLowerCase()&&ce("RoPro Cloud Play via now.gg"),(0,d.DJ)()&&ce("Play ".concat(d.ZP.appInfo.appName," Online"));var a=window.fetch,i=/^\/play\/_next\/data\/.*\.json/;window.fetch=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return O(void 0,void 0,void 0,(function(){var t;return Y(this,(function(n){return t=e[0],i.test(t)?[2,Promise.reject()]:[2,a.apply(void 0,e)]}))}))};var u=sessionStorage.getItem(w.$3);u&&parseInt(u,10)&&ve({type:g.Z.SET_ROBLOX_EXPERIENCE_ID,payload:{robloxExperienceId:parseInt(u,10),currentRobloxExperienceTimer:Date.now()}}),(0,p.L9)("PreloaderDisplayed2",e),localStorage.removeItem("A/B-experiment::play-page"),z||(pe.current=(0,p.wn)()),O(void 0,void 0,void 0,(function(){var e,t,n,r;return Y(this,(function(o){switch(o.label){case 0:return[4,_.ZP.getAppPlayFeatures({appId:d.ZP.appInfo.appId},{})];case 1:return(e=o.sent()).status===m.YR.Success&&ve({type:R.Z.SET_STREAMING_ENABLED_CONFIG,payload:{isLiveStreamingEnabled:null===(t=e.liveStreaming)||void 0===t?void 0:t.enabled,isLiveStreamViewingEnabled:null===(n=e.liveStreaming)||void 0===n?void 0:n.isViewingEnabled,isLiveStreamTopbarWidgetEnabled:null===(r=e.liveStreaming)||void 0===r?void 0:r.isTopBarEnabled}}),[2]}}))})),sessionStorage.removeItem(b.dZ),ve({type:g.Z.UPDATE_ORIENTATION,payload:{orientation:G.initialOrientation}}),(0,S.i1)();var s=(0,l._B)();return ve({type:f.Z.GUEST_FLOW,payload:{guestFlow:s}}),s&&ve({type:f.Z.SET_LOGGED_IN,payload:{isLoggedIn:!1,showPreloader:!1}}),(0,p.L9)("PreloaderDisplayed3",e),function(){z||clearInterval(pe.current),ge.current&&clearTimeout(ge.current)}}),[]),H?(0,C.tZ)(F.Z.Provider,{value:oe,children:(0,C.tZ)(A.NotFound,{errorStatusCode:Q,prefix:j,ngNcmHost:X,errorReason:"StatusCode".concat(Q,"-Play").concat(H),isQuancastPopupSupportByCountry:K})}):(0,C.BX)(i.Pw,{children:[(0,C.BX)(s.default,{children:[(0,C.tZ)("meta",{name:"robots",content:"noindex,nofollow,noarchive"}),(0,C.tZ)("meta",{httpEquiv:"Cache-control",content:"private, no-cache, no-store, max-age=0, must-revalidate"}),(0,C.tZ)("meta",{httpEquiv:"Pragma",content:"no-cache"}),(0,C.tZ)("script",{dangerouslySetInnerHTML:{__html:(0,h.ZP)(k(k({},G),{authServiceHost:"https://".concat(G.authServiceHost)}),ie,j,!1,null===(U=null===(B=G.playFeFeatures)||void 0===B?void 0:B.tryAndDownload)||void 0===U?void 0:U.isEnabled)}}),(0,N.LX)((null===G||void 0===G?void 0:G.metaTags)||""),le&&(0,C.tZ)("title",{children:le}),(0,C.tZ)("script",{children:"document.addEventListener('wheel', function(e) { if (e.ctrlKey) { e.preventDefault(); }}, { passive: false });\n          document.addEventListener('touchmove', function (event) { if (event.touches.length > 1) { event.preventDefault();} }, { passive: false });\n          document.addEventListener('gesturestart', function (event) { event.preventDefault() }, { passive: false });\n          document.addEventListener('gesturechange', function (event) { event.preventDefault() }, { passive: false });\n          document.addEventListener('gestureend', function (event) { event.preventDefault() }, { passive: false });"})]}),(0,C.BX)(r.im,{desktopBanner:null===ue||void 0===ue?void 0:ue.banner,children:[(0,C.tZ)(u.Z,{}),(0,C.tZ)("noscript",{style:{margin:"auto",borderRadius:"20px",padding:"20px",textAlign:"center",fontSize:"x-large",color:"#ffffff",background:"rgba(0, 0, 0, 0.8)"},children:"You need to enable JavaScript to run this app."}),(0,C.tZ)(a.x.Provider,{value:G,children:(0,C.tZ)(F.Z.Provider,{value:oe,children:(0,C.BX)(o.Z,{children:[(!q||q===m.YR.FailureServiceNotInRegion&&(0,Z.c6)(G.packageName))&&(0,C.BX)(C.HY,{children:[re&&(0,C.tZ)(x.Z,{isNowGGURL:ne}),(0,C.tZ)(L.PlayPage,{manifest:!0,isAppPage:z})]}),(q===m.YR.FailureServiceNotInRegion&&!(0,Z.c6)(G.packageName)||q===m.YR.FailureAppNotAvailable)&&de?(0,C.tZ)(P.Z,{}):(q===m.YR.Failure||q===m.YR.FailureForbidden||q===m.YR.FailureNoResource||q===m.YR.FailureMobileNotSupported||q===m.YR.FailureDesktopNotSupported||q===m.YR.FailureTabletNotSupported||q===m.YR.FailureOsNotSupported||q===m.YR.FailureServiceNotInRegion&&!(0,Z.c6)(G.packageName)||q===m.YR.FailureAppNotAvailable)&&(0,C.tZ)(E.default,{error:q,errorName:"PageServiceStatus-".concat(q)})]})})})]})]})};t.default=U},3021:function(e,t,n){"use strict";n.d(t,{im:function(){return r.Z}});var r=n(12731);n(30945)},30945:function(e,t,n){"use strict";n.d(t,{nv:function(){return r.ZP},h9:function(){return i},ny:function(){return u}});var r=n(24047),o=n(98219),a=n(74348),i={mouseDown:a.uG,mouseUp:a.vV,mouseMove:a.ou,mouseCancel:a.YN,mouseWheel:a.NX,mouseWheelNative:a._C},u=function(){(0,o.mD)(),(0,r.Gn)()}},45301:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(46473)}])}},function(e){e.O(0,[9774,2016,1627,8758,2021,4056,9249,949,7649,237,9804,2217,6413,5905,3761,1661,537,816,3235,213,2814,2888,179],(function(){return t=45301,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=index-a915d2233c101b56.js.map